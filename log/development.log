

Processing ListingsController#index (for 127.0.0.1 at 2009-05-20 20:21:20) [GET]
  Session ID: 282a0fa1445cd9c4390472112fed13b0
  Parameters: {"action"=>"index", "controller"=>"listings"}
WARNING: You're using the Ruby-based MySQL library that ships with Rails. This library is not suited for production. Please install the C-based MySQL library instead (gem install mysql).
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.001000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'wwhow') LIMIT 1[0m
  [4;36;1mBlogEntry Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mBlogEntry Load (0.003000)[0m   [0mSELECT * FROM `blog_entries` WHERE (`blog_entries`.`twit_id` = 1789116459) LIMIT 1[0m
Google geocoding. Address: 100 Pine, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mTag Columns (0.004000)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mRating Columns (0.004000)[0m   [0mSHOW FIELDS FROM `ratings`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.005000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.536000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTagging Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.047000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.006000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.01500)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00100)
Rendered listings/_map (0.04600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.19200)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.07500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.07600)
Rendered listings/_message (0.07800)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.86200)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 2.42200 (0 reqs/sec) | Rendering: 0.96600 (39%) | DB: 0.62400 (25%) | 200 OK [http://localhost/]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:22:10) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zOTg5
OTUAER86CkBjaXR5IhJTYW4gRnJhbmNpc2NvOhJAY291bnRyeV9jb2RlIgdV
UzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRmGjM3Ljc5MjYzNjAwMDAwMDAw
MgDQ7joUQHN0cmVldF9hZGRyZXNzIhAxMDAgUGluZSBTdDoSQGZ1bGxfYWRk
cmVzcyIuMTAwIFBpbmUgU3QsIFNhbiBGcmFuY2lzY28sIENBIDk0MTExLCBV
U0E6D0BwcmVjaXNpb24iDGFkZHJlc3M6CUB6aXAiCjk0MTExIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--72968c495d595ec8aa2dc794f8f965b5ccc1b3b2
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"3", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.005000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.004000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.010000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.916000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE (1=1 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) AND `blog_entries`.id IN (669, 668, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533, 532, 531, 530, 529, 528, 527, 526, 525, 524, 523, 522, 521, 520, 519, 518, 517, 516, 515, 514, 513, 512, 511, 510, 509, 508, 507, 506, 505, 504, 503, 502, 501, 500, 499, 498, 497, 496, 494, 493, 492, 491, 490, 489, 488, 487, 486, 485, 484, 483, 482, 481, 480, 479, 478, 477, 476, 475, 474, 473, 472, 471, 470, 469, 468, 467, 466, 465, 464, 463, 462, 461, 460, 459, 458, 456, 455, 454, 453, 452, 451, 450, 449, 448, 447, 446, 445, 444, 443, 442, 441, 440, 438, 437, 436, 435, 434, 433, 432, 431, 430) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.045000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.007000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.04700)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.08900)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.07100)
Rendered listings/_message (0.07300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.07200)
Rendered listings/_message (0.07400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.07400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.07200)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered listings/_messagelist (1.25100)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00100)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 2.92100 (0 reqs/sec) | Rendering: 1.27000 (43%) | DB: 0.98700 (33%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:24:51) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM5ODk5NQARHzoKQGNp
dHkiElNhbiBGcmFuY2lzY286EkBjb3VudHJ5X2NvZGUiB1VTOg5AcHJvdmlk
ZXIiC2dvb2dsZToJQGxhdGYaMzcuNzkyNjM2MDAwMDAwMDAyANDuOhRAc3Ry
ZWV0X2FkZHJlc3MiEDEwMCBQaW5lIFN0OhJAZnVsbF9hZGRyZXNzIi4xMDAg
UGluZSBTdCwgU2FuIEZyYW5jaXNjbywgQ0EgOTQxMTEsIFVTQToPQHByZWNp
c2lvbiIMYWRkcmVzczoJQHppcCIKOTQxMTE6DHNsaWRlcnNUIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--642e8f3ee76a184a2a3210d9c82f072fa859ee1f
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"3", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.006000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.011000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.913000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE (1=1 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) AND `blog_entries`.id IN (669, 668, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533, 532, 531, 530, 529, 528, 527, 526, 525, 524, 523, 522, 521, 520, 519, 518, 517, 516, 515, 514, 513, 512, 511, 510, 509, 508, 507, 506, 505, 504, 503, 502, 501, 500, 499, 498, 497, 496, 494, 493, 492, 491, 490, 489, 488, 487, 486, 485, 484, 483, 482, 481, 480, 479, 478, 477, 476, 475, 474, 473, 472, 471, 470, 469, 468, 467, 466, 465, 464, 463, 462, 461, 460, 459, 458, 456, 455, 454, 453, 452, 451, 450, 449, 448, 447, 446, 445, 444, 443, 442, 441, 440, 438, 437, 436, 435, 434, 433, 432, 431, 430) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.043000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.007000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.13700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.08000)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.07900)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.07900)
Rendered listings/_message (0.08200)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.07900)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (1.29300)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 2.93000 (0 reqs/sec) | Rendering: 1.31400 (44%) | DB: 0.98600 (33%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:25:58) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNUOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zOTg5
OTUAER86CkBjaXR5IhJTYW4gRnJhbmNpc2NvOhJAY291bnRyeV9jb2RlIgdV
UzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRmGjM3Ljc5MjYzNjAwMDAwMDAw
MgDQ7joUQHN0cmVldF9hZGRyZXNzIhAxMDAgUGluZSBTdDoSQGZ1bGxfYWRk
cmVzcyIuMTAwIFBpbmUgU3QsIFNhbiBGcmFuY2lzY28sIENBIDk0MTExLCBV
U0E6D0BwcmVjaXNpb24iDGFkZHJlc3M6CUB6aXAiCjk0MTExIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--975d0759a1dcd0d9e610d13ff1e1a8b5959592d7
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"5", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.006000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.004000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.010000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.925000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE (1=1 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) AND `blog_entries`.id IN (669, 668, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533, 532, 531, 530, 529, 528, 527, 526, 525, 524, 523, 522, 521, 520, 519, 518, 517, 516, 515, 514, 513, 512, 511, 510, 509, 508, 507, 506, 505, 504, 503, 502, 501, 500, 499, 498, 497, 496, 494, 493, 492, 491, 490, 489, 488, 487, 486, 485, 484, 483, 482, 481, 480, 479, 478, 477, 476, 475, 474, 473, 472, 471, 470, 469, 468, 467, 466, 465, 464, 463, 462, 461, 460, 459, 458, 456, 455, 454, 453, 452, 451, 450, 449, 448, 447, 446, 445, 444, 443, 442, 441, 440, 438, 437, 436, 435, 434, 433, 432, 431, 430) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.045000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.006000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.01500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.07900)
Rendered listings/_message (0.08000)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.28600)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 1.89900 (0 reqs/sec) | Rendering: 0.30400 (16%) | DB: 0.99600 (52%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:26:17) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM5ODk5NQARHzoKQGNp
dHkiElNhbiBGcmFuY2lzY286EkBjb3VudHJ5X2NvZGUiB1VTOg5AcHJvdmlk
ZXIiC2dvb2dsZToJQGxhdGYaMzcuNzkyNjM2MDAwMDAwMDAyANDuOhRAc3Ry
ZWV0X2FkZHJlc3MiEDEwMCBQaW5lIFN0OhJAZnVsbF9hZGRyZXNzIi4xMDAg
UGluZSBTdCwgU2FuIEZyYW5jaXNjbywgQ0EgOTQxMTEsIFVTQToPQHByZWNp
c2lvbiIMYWRkcmVzczoJQHppcCIKOTQxMTE6DHNsaWRlcnNUIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--642e8f3ee76a184a2a3210d9c82f072fa859ee1f
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"", "map"=>"", "author_id"=>"", "category_list"=>"shoes", "search_rating_to"=>"5", "search_rating_from"=>"5", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.006000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.001000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=0 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.020000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'shoes') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load Including Associations (0.098000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'shoes') AND `blog_entries`.id IN (616, 610, 609, 598, 571, 569, 549, 472, 454, 453, 452, 451, 450, 449, 448, 447, 446, 445, 444, 443, 442, 441, 440, 438, 437, 436, 435, 395, 393, 386, 385, 360, 282, 227, 226, 225, 146, 139, 138, 126, 125, 114, 70, 41, 38, 22) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.043000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00200)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 616) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 610) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 609) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 437) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 146) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 38) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered listings/_messagelist (0.03600)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00100)
Rendered layouts/_endscripts (0.00000)
Completed in 0.61100 (1 reqs/sec) | Rendering: 0.04700 (7%) | DB: 0.18500 (30%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:26:22) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNUOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zOTg5
OTUAER86CkBjaXR5IhJTYW4gRnJhbmNpc2NvOhJAY291bnRyeV9jb2RlIgdV
UzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRmGjM3Ljc5MjYzNjAwMDAwMDAw
MgDQ7joUQHN0cmVldF9hZGRyZXNzIhAxMDAgUGluZSBTdDoSQGZ1bGxfYWRk
cmVzcyIuMTAwIFBpbmUgU3QsIFNhbiBGcmFuY2lzY28sIENBIDk0MTExLCBV
U0E6D0BwcmVjaXNpb24iDGFkZHJlc3M6CUB6aXAiCjk0MTExIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--975d0759a1dcd0d9e610d13ff1e1a8b5959592d7
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"shoes", "map"=>"", "author_id"=>"", "category_list"=>"Baby gear", "search_rating_to"=>"5", "search_rating_from"=>"5", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.001000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=0 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.015000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Baby gear') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.031000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Baby gear') AND `blog_entries`.id IN (460, 459, 397, 271, 268, 267, 266, 265, 264, 262, 261, 197, 152) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.042000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.007000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00100)
Rendered listings/_map (0.00000)
Rendered shared/_system_messages (0.00100)
Rendered listings/_messagelist (0.00100)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.51800 (1 reqs/sec) | Rendering: 0.01900 (3%) | DB: 0.10600 (20%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:26:35) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM5ODk5NQARHzoKQGNp
dHkiElNhbiBGcmFuY2lzY286EkBjb3VudHJ5X2NvZGUiB1VTOg5AcHJvdmlk
ZXIiC2dvb2dsZToJQGxhdGYaMzcuNzkyNjM2MDAwMDAwMDAyANDuOhRAc3Ry
ZWV0X2FkZHJlc3MiEDEwMCBQaW5lIFN0OhJAZnVsbF9hZGRyZXNzIi4xMDAg
UGluZSBTdCwgU2FuIEZyYW5jaXNjbywgQ0EgOTQxMTEsIFVTQToPQHByZWNp
c2lvbiIMYWRkcmVzczoJQHppcCIKOTQxMTE6DHNsaWRlcnNUIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--642e8f3ee76a184a2a3210d9c82f072fa859ee1f
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"Baby gear", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"2", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.004000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.004000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.003000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%baby gear%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.013000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Baby gear') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load Including Associations (0.028000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Baby gear') AND `blog_entries`.id IN (460, 459, 397, 271, 268, 267, 266, 265, 264, 262, 261, 197, 152) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.043000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00300)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00300)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 460) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 459) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 271) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 268) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 267) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 266) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 265) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 264) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 262) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 261) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 197) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 152) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered listings/_messagelist (0.07700)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.43600 (2 reqs/sec) | Rendering: 0.08100 (18%) | DB: 0.11400 (26%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:28:24) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNUOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zOTg5
OTUAER86CkBjaXR5IhJTYW4gRnJhbmNpc2NvOhJAY291bnRyeV9jb2RlIgdV
UzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRmGjM3Ljc5MjYzNjAwMDAwMDAw
MgDQ7joUQHN0cmVldF9hZGRyZXNzIhAxMDAgUGluZSBTdDoSQGZ1bGxfYWRk
cmVzcyIuMTAwIFBpbmUgU3QsIFNhbiBGcmFuY2lzY28sIENBIDk0MTExLCBV
U0E6D0BwcmVjaXNpb24iDGFkZHJlc3M6CUB6aXAiCjk0MTExIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--975d0759a1dcd0d9e610d13ff1e1a8b5959592d7
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"Baby gear", "map"=>"true", "author_id"=>"", "category_list"=>"art supplies", "search_rating_to"=>"5", "search_rating_from"=>"2", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.004000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.001000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=0 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.013000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'art supplies') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.022000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'art supplies') AND `blog_entries`.id IN (660, 659, 657, 573, 406, 405, 191, 181, 180, 179, 166) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.044000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.006000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00100)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 191) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 166) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered listings/_messagelist (0.01300)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.39200 (2 reqs/sec) | Rendering: 0.02700 (6%) | DB: 0.09800 (24%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:28:29) [POST]
  Session ID: BAh7CjoIbWFwVDoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM5ODk5NQARHzoKQGNp
dHkiElNhbiBGcmFuY2lzY286EkBjb3VudHJ5X2NvZGUiB1VTOg5AcHJvdmlk
ZXIiC2dvb2dsZToJQGxhdGYaMzcuNzkyNjM2MDAwMDAwMDAyANDuOhRAc3Ry
ZWV0X2FkZHJlc3MiEDEwMCBQaW5lIFN0OhJAZnVsbF9hZGRyZXNzIi4xMDAg
UGluZSBTdCwgU2FuIEZyYW5jaXNjbywgQ0EgOTQxMTEsIFVTQToPQHByZWNp
c2lvbiIMYWRkcmVzczoJQHppcCIKOTQxMTE6DHNsaWRlcnNUIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--13bdb9b8e3ffb4c540b4f1ce3cba1827b1d09eb1
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"art supplies", "map"=>"true", "author_id"=>"", "category_list"=>"Health Food", "search_rating_to"=>"5", "search_rating_from"=>"2", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.005000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.001000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=0 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.015000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Health Food') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load Including Associations (0.019000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Health Food') AND `blog_entries`.id IN (647, 646, 329, 328, 327, 246, 245) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.047000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.07700)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00500)
Rendered layouts/_rightbar (0.00700)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00200)
  [4;36;1mTag Load (0.003000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 647) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 646) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 329) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 328) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 327) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 246) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 245) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered listings/_messagelist (0.04700)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00100)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.76300 (1 reqs/sec) | Rendering: 0.13200 (17%) | DB: 0.10800 (14%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 20:28:35) [POST]
  Session ID: BAh7CjoIbWFwVDoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNUOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zOTg5
OTUAER86CkBjaXR5IhJTYW4gRnJhbmNpc2NvOhJAY291bnRyeV9jb2RlIgdV
UzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRmGjM3Ljc5MjYzNjAwMDAwMDAw
MgDQ7joUQHN0cmVldF9hZGRyZXNzIhAxMDAgUGluZSBTdDoSQGZ1bGxfYWRk
cmVzcyIuMTAwIFBpbmUgU3QsIFNhbiBGcmFuY2lzY28sIENBIDk0MTExLCBV
U0E6D0BwcmVjaXNpb24iDGFkZHJlc3M6CUB6aXAiCjk0MTExIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--16daa8138adbc31802dc49953b2ebd75b757eba6
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"100 Pine St, San Francisco, CA 94111, USA", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"true", "search"=>"Health Food", "map"=>"true", "author_id"=>"", "category_list"=>"bakeware", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: 100 Pine St, San Francisco, CA 94111, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine St, San Francisco, CA 94111, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.007000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.001000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=0 AND ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.019000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'bakeware') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load Including Associations (0.013000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'bakeware') AND `blog_entries`.id IN (536, 535, 534, 532) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.049000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00100)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 536) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 535) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 534) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 532) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered listings/_messagelist (0.02500)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00100)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.43600 (2 reqs/sec) | Rendering: 0.03700 (8%) | DB: 0.10700 (24%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:32:12) [GET]
  Session ID: BAh7CjoIbWFwVDoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM5ODk5NQARHzoKQGNp
dHkiElNhbiBGcmFuY2lzY286EkBjb3VudHJ5X2NvZGUiB1VTOg5AcHJvdmlk
ZXIiC2dvb2dsZToJQGxhdGYaMzcuNzkyNjM2MDAwMDAwMDAyANDuOhRAc3Ry
ZWV0X2FkZHJlc3MiEDEwMCBQaW5lIFN0OhJAZnVsbF9hZGRyZXNzIi4xMDAg
UGluZSBTdCwgU2FuIEZyYW5jaXNjbywgQ0EgOTQxMTEsIFVTQToPQHByZWNp
c2lvbiIMYWRkcmVzczoJQHppcCIKOTQxMTE6DHNsaWRlcnNUIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsWRjsXRg==--13bdb9b8e3ffb4c540b4f1ce3cba1827b1d09eb1
  Parameters: {"default_location"=>"sfo", "action"=>"search", "controller"=>"listings", "category_list"=>"food"}
Google geocoding. Address: sfo. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>sfo</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Francisco Airport, United States</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AddressLine>San Francisco Airport</AddressLine></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.6401700" south="37.6041790" east="-122.3548940" west="-122.4015610" />
    </ExtendedData>
    <Point><coordinates>-122.3899790,37.6152230,0</coordinates></Point>
  </Placemark>
</Response></kml>
Google geocoding. Address: sfo. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>sfo</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Francisco Airport, United States</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AddressLine>San Francisco Airport</AddressLine></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.6401700" south="37.6041790" east="-122.3548940" west="-122.4015610" />
    </ExtendedData>
    <Point><coordinates>-122.3899790,37.6152230,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.007000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.502000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.045000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.12300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.07700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00800)
Rendered listings/_message (0.01000)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.07600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered listings/_messagelist (0.72400)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 1.91600 (0 reqs/sec) | Rendering: 0.74300 (38%) | DB: 0.57200 (29%) | 200 OK [http://localhost/what/food/where/sfo]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:32:23) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZTA6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zODk5NzkA
yB06CkBjaXR5MDoSQGNvdW50cnlfY29kZSIHVVM6DkBwcm92aWRlciILZ29v
Z2xlOglAbGF0ZhEzNy42MTUyMjMAX546FEBzdHJlZXRfYWRkcmVzczA6EkBm
dWxsX2FkZHJlc3MiKVNhbiBGcmFuY2lzY28gQWlycG9ydCwgVW5pdGVkIFN0
YXRlczoPQHByZWNpc2lvbjA6CUB6aXAwIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9yIgA6C25vdGljZSIA
BjoKQHVzZWR7BzsWRjsXRg==--86249c12e50db5ac1a2fd3c29507a9436130cba5
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"sfo", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"", "search"=>"", "map"=>"", "author_id"=>"", "category_list"=>"Cosmetics & Beauty Supply", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: sfo. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>sfo</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Francisco Airport, United States</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AddressLine>San Francisco Airport</AddressLine></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.6401700" south="37.6041790" east="-122.3548940" west="-122.4015610" />
    </ExtendedData>
    <Point><coordinates>-122.3899790,37.6152230,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.004000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.001000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=0 AND ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.014000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.051000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') AND `blog_entries`.id IN (511, 510, 509, 508, 507, 247, 235, 233, 231, 229, 228, 224, 223, 222, 221, 220, 217, 216, 215, 214, 213, 212, 211, 210, 198) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.045000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.006000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 511) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 510) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 509) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 508) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 507) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 247) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 235) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 233) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 231) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 229) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 228) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 224) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 223) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 222) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 221) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 220) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 217) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 216) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 215) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 214) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 213) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 212) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 211) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 210) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 198) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered listings/_messagelist (0.16700)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.62100 (1 reqs/sec) | Rendering: 0.15500 (24%) | DB: 0.15600 (25%) | 200 OK [http://localhost/where/sfo]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:32:39) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlMDoNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM4OTk3OQDIHToKQGNpdHkw
OhJAY291bnRyeV9jb2RlIgdVUzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRm
ETM3LjYxNTIyMwBfnjoUQHN0cmVldF9hZGRyZXNzMDoSQGZ1bGxfYWRkcmVz
cyIpU2FuIEZyYW5jaXNjbyBBaXJwb3J0LCBVbml0ZWQgU3RhdGVzOg9AcHJl
Y2lzaW9uMDoJQHppcDA6DHNsaWRlcnNGIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9yIgA6C25vdGljZSIA
BjoKQHVzZWR7BzsWRjsXRg==--b63ae609788acd62a6972d4fd7745e5922749b41
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"sfo", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"", "search"=>"Cosmetics & Beauty Supply", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: sfo. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>sfo</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Francisco Airport, United States</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AddressLine>San Francisco Airport</AddressLine></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.6401700" south="37.6041790" east="-122.3548940" west="-122.4015610" />
    </ExtendedData>
    <Point><coordinates>-122.3899790,37.6152230,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.004000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.003000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%cosmetics & beauty supply%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.014000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.051000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') AND `blog_entries`.id IN (511, 510, 509, 508, 507, 247, 235, 233, 231, 229, 228, 224, 223, 222, 221, 220, 217, 216, 215, 214, 213, 212, 211, 210, 198) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.042000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.007000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00300)
Rendered layouts/_leftbar (0.00500)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 511) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 510) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 509) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 508) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 507) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 247) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 235) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 233) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 231) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 229) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 228) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 224) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 223) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 222) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 221) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 220) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 217) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 216) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 215) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 214) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.000000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 213) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 212) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 211) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 210) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 198) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.07600)
Rendered listings/_message (0.07900)
Rendered listings/_messagelist (0.24200)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.60700 (1 reqs/sec) | Rendering: 0.23400 (38%) | DB: 0.15200 (25%) | 200 OK [http://localhost/where/sfo]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:33:07) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZTA6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zODk5NzkA
yB06CkBjaXR5MDoSQGNvdW50cnlfY29kZSIHVVM6DkBwcm92aWRlciILZ29v
Z2xlOglAbGF0ZhEzNy42MTUyMjMAX546FEBzdHJlZXRfYWRkcmVzczA6EkBm
dWxsX2FkZHJlc3MiKVNhbiBGcmFuY2lzY28gQWlycG9ydCwgVW5pdGVkIFN0
YXRlczoPQHByZWNpc2lvbjA6CUB6aXAwIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9yIgA6C25vdGljZSIA
BjoKQHVzZWR7BzsWRjsXRg==--86249c12e50db5ac1a2fd3c29507a9436130cba5
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"sfo", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"", "search"=>"Cosmetics & Beauty Supply", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: sfo. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>sfo</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Francisco Airport, United States</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AddressLine>San Francisco Airport</AddressLine></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.6401700" south="37.6041790" east="-122.3548940" west="-122.4015610" />
    </ExtendedData>
    <Point><coordinates>-122.3899790,37.6152230,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.007000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.004000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%cosmetics & beauty supply%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.015000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.052000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') AND `blog_entries`.id IN (511, 510, 509, 508, 507, 247, 235, 233, 231, 229, 228, 224, 223, 222, 221, 220, 217, 216, 215, 214, 213, 212, 211, 210, 198) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.042000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.006000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00100)
Rendered listings/_map (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 511) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 510) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.003000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 509) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 508) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 507) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 247) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 235) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 233) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 231) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 229) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 228) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 224) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 223) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 222) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.09500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 221) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 220) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 217) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 216) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 215) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 214) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 213) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 212) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 211) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 210) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 198) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered listings/_messagelist (0.27000)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.61500 (1 reqs/sec) | Rendering: 0.25200 (40%) | DB: 0.16700 (27%) | 200 OK [http://localhost/where/sfo]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:34:05) [POST]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlMDoNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM4OTk3OQDIHToKQGNpdHkw
OhJAY291bnRyeV9jb2RlIgdVUzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRm
ETM3LjYxNTIyMwBfnjoUQHN0cmVldF9hZGRyZXNzMDoSQGZ1bGxfYWRkcmVz
cyIpU2FuIEZyYW5jaXNjbyBBaXJwb3J0LCBVbml0ZWQgU3RhdGVzOg9AcHJl
Y2lzaW9uMDoJQHppcDA6DHNsaWRlcnNGIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9yIgA6C25vdGljZSIA
BjoKQHVzZWR7BzsWRjsXRg==--b63ae609788acd62a6972d4fd7745e5922749b41
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"sfo", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"", "search"=>"Cosmetics & Beauty Supply", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: sfo. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>sfo</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Francisco Airport, United States</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AddressLine>San Francisco Airport</AddressLine></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.6401700" south="37.6041790" east="-122.3548940" west="-122.4015610" />
    </ExtendedData>
    <Point><coordinates>-122.3899790,37.6152230,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.004000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%cosmetics & beauty supply%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.015000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.057000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'Cosmetics & Beauty Supply') AND `blog_entries`.id IN (511, 510, 509, 508, 507, 247, 235, 233, 231, 229, 228, 224, 223, 222, 221, 220, 217, 216, 215, 214, 213, 212, 211, 210, 198) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.048000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.007000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00300)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00100)
Rendered listings/_map (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 511) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 510) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.10000)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 509) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 508) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 507) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 247) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 235) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 233) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 231) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 229) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 228) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 224) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 223) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 222) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 221) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 220) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 217) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 216) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 215) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 214) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 213) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00900)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 212) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 211) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 210) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 198) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.01000)
Rendered listings/_messagelist (0.27700)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.65400 (1 reqs/sec) | Rendering: 0.26300 (40%) | DB: 0.17400 (26%) | 200 OK [http://localhost/where/sfo]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:36:16) [GET]
  Session ID: BAh7CjoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZTA6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zODk5NzkA
yB06CkBjaXR5MDoSQGNvdW50cnlfY29kZSIHVVM6DkBwcm92aWRlciILZ29v
Z2xlOglAbGF0ZhEzNy42MTUyMjMAX546FEBzdHJlZXRfYWRkcmVzczA6EkBm
dWxsX2FkZHJlc3MiKVNhbiBGcmFuY2lzY28gQWlycG9ydCwgVW5pdGVkIFN0
YXRlczoPQHByZWNpc2lvbjA6CUB6aXAwIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9yIgA6C25vdGljZSIA
BjoKQHVzZWR7BzsWRjsXRg==--86249c12e50db5ac1a2fd3c29507a9436130cba5
  Parameters: {"entry_location"=>"94518", "action"=>"search", "controller"=>"listings"}
Redirected to http://localhost:3000/
Completed in 0.00200 (500 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://localhost/where/94518]


Processing ListingsController#index (for 127.0.0.1 at 2009-05-20 22:36:17) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlMDoNQHN1Y2Nlc3NUOgpAY2l0eTA6CUBsbmdmEy0xMjIuMzg5OTc5AMgd
OhJAY291bnRyeV9jb2RlIgdVUzoUQHN0cmVldF9hZGRyZXNzMDoJQGxhdGYR
MzcuNjE1MjIzAF+eOg5AcHJvdmlkZXIiC2dvb2dsZToSQGZ1bGxfYWRkcmVz
cyIpU2FuIEZyYW5jaXNjbyBBaXJwb3J0LCBVbml0ZWQgU3RhdGVzOglAemlw
MDoPQHByZWNpc2lvbjA6DHNsaWRlcnNGOg5yZXR1cm5fdG8wIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsXVDsYVA==--9663f86bed65fb06cc82a0d5e785b0211d86d589
  Parameters: {"action"=>"index", "controller"=>"listings"}
  [4;36;1mUser Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.003000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'wwhow') LIMIT 1[0m
  [4;36;1mBlogEntry Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mBlogEntry Load (0.002000)[0m   [0mSELECT * FROM `blog_entries` WHERE (`blog_entries`.`twit_id` = 1789116459) LIMIT 1[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.006000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.511000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.043000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.13000)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.07400)
Rendered listings/_message (0.07500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00800)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.07700)
Rendered listings/_message (0.07900)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.74700)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 4.72500 (0 reqs/sec) | Rendering: 0.77000 (16%) | DB: 0.58500 (12%) | 200 OK [http://localhost/]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:36:37) [POST]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZTA6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4zODk5NzkA
yB06CkBjaXR5MDoSQGNvdW50cnlfY29kZSIHVVM6DkBwcm92aWRlciILZ29v
Z2xlOglAbGF0ZhEzNy42MTUyMjMAX546FEBzdHJlZXRfYWRkcmVzczA6EkBm
dWxsX2FkZHJlc3MiKVNhbiBGcmFuY2lzY28gQWlycG9ydCwgVW5pdGVkIFN0
YXRlczoPQHByZWNpc2lvbjA6CUB6aXAwIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9yIgA6C25vdGljZSIA
BjoKQHVzZWR7BzsWRjsXRjoOcmV0dXJuX3RvMA==--3b8371168c38df4c44229188505e62334b057063
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"San Francisco Airport, United States", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"", "search"=>"", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: San Francisco Airport, United States. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>San Francisco Airport, United States</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Francisco Airport, United States</address>
    <AddressDetails Accuracy="9" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AddressLine>San Francisco Airport</AddressLine></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.6401700" south="37.6041790" east="-122.3548940" west="-122.4015610" />
    </ExtendedData>
    <Point><coordinates>-122.3899790,37.6152230,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.013000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load Including Associations (0.883000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE (1=1 AND ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) AND `blog_entries`.id IN (669, 668, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533, 532, 531, 530, 529, 528, 527, 526, 525, 524, 523, 522, 521, 520, 519, 518, 517, 516, 515, 514, 513, 512, 511, 510, 509, 508, 507, 506, 505, 504, 503, 502, 501, 500, 499, 498, 497, 496, 494, 493, 492, 491, 490, 489, 488, 487, 486, 485, 484, 483, 482, 481, 480, 479, 478, 477, 476, 475, 474, 473, 472, 471, 470, 469, 468, 467, 466, 465, 464, 463, 462, 461, 460, 459, 458, 456, 455, 454, 453, 452, 451, 450, 449, 448, 447, 446, 445, 444, 443, 442, 441, 440, 438, 437, 436, 435, 434, 433, 432, 431, 430) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.048000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.007000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00700)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.04400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.09400)
Rendered listings/_message (0.09600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.08500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.08800)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.08700)
Rendered listings/_message (0.09000)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.08600)
Rendered listings/_message (0.08800)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (1.43900)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 2.98900 (0 reqs/sec) | Rendering: 1.46000 (48%) | DB: 0.96100 (32%) | 200 OK [http://localhost/listings/search]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:38:11) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlMDoNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM4OTk3OQDIHToKQGNpdHkw
OhJAY291bnRyeV9jb2RlIgdVUzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRm
ETM3LjYxNTIyMwBfnjoUQHN0cmVldF9hZGRyZXNzMDoSQGZ1bGxfYWRkcmVz
cyIpU2FuIEZyYW5jaXNjbyBBaXJwb3J0LCBVbml0ZWQgU3RhdGVzOg9AcHJl
Y2lzaW9uMDoJQHppcDA6DHNsaWRlcnNGOg5yZXR1cm5fdG8wIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsXRjsYRg==--0ca6ed41a8fed955136ee4d1fb133db1a77127a0
  Parameters: {"entry_location"=>"94518", "action"=>"search", "controller"=>"listings"}
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.004000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.485000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.043000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00500)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.03800)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.10500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.09500)
Rendered listings/_message (0.09900)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered listings/_messagelist (0.70800)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00100)
Rendered layouts/_footer (0.00100)
Rendered layouts/_endscripts (0.00000)
Completed in 1.54400 (0 reqs/sec) | Rendering: 0.82600 (53%) | DB: 0.54800 (35%) | 200 OK [http://localhost/where/94518]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:38:26) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZTA6DUBzdWNjZXNzVDoKQGNpdHkwOglAbG5nZhMtMTIy
LjM4OTk3OQDIHToSQGNvdW50cnlfY29kZSIHVVM6FEBzdHJlZXRfYWRkcmVz
czA6CUBsYXRmETM3LjYxNTIyMwBfnjoOQHByb3ZpZGVyIgtnb29nbGU6EkBm
dWxsX2FkZHJlc3MiKVNhbiBGcmFuY2lzY28gQWlycG9ydCwgVW5pdGVkIFN0
YXRlczoJQHppcDA6D0BwcmVjaXNpb24wIgpmbGFzaElDOidBY3Rpb25Db250
cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9yIgA6C25vdGljZSIA
BjoKQHVzZWR7BzsWRjsXRjoOcmV0dXJuX3RvMA==--abd5dcee92a24278a8e9292088714257db7dd58e
  Parameters: {"entry_location"=>"94518", "action"=>"search", "controller"=>"listings"}
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.006000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.005000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.483000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.656509490221899)*COS(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.656509490221899)*SIN(-2.13610810499672)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.656509490221899)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.044000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.007000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.04000)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.13000)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.10000)
Rendered listings/_message (0.10300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.09700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.83100)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 1.56100 (0 reqs/sec) | Rendering: 0.84900 (54%) | DB: 0.55000 (35%) | 200 OK [http://localhost/where/94518]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:40:49) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlMDoNQHN1Y2Nlc3NUOglAbG5nZhMtMTIyLjM4OTk3OQDIHToKQGNpdHkw
OhJAY291bnRyeV9jb2RlIgdVUzoOQHByb3ZpZGVyIgtnb29nbGU6CUBsYXRm
ETM3LjYxNTIyMwBfnjoUQHN0cmVldF9hZGRyZXNzMDoSQGZ1bGxfYWRkcmVz
cyIpU2FuIEZyYW5jaXNjbyBBaXJwb3J0LCBVbml0ZWQgU3RhdGVzOg9AcHJl
Y2lzaW9uMDoJQHppcDA6DHNsaWRlcnNGOg5yZXR1cm5fdG8wIgpmbGFzaElD
OidBY3Rpb25Db250cm9sbGVyOjpGbGFzaDo6Rmxhc2hIYXNoewc6CmVycm9y
IgA6C25vdGljZSIABjoKQHVzZWR7BzsXRjsYRg==--0ca6ed41a8fed955136ee4d1fb133db1a77127a0
  Parameters: {"entry_location"=>"94518", "action"=>"search", "controller"=>"listings"}
Google geocoding. Address: 94518. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>94518</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Concord, CA 94518, USA</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Concord</LocalityName><PostalCode><PostalCodeNumber>94518</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9753970" south="37.9317020" east="-121.9920750" west="-122.0518220" />
    </ExtendedData>
    <Point><coordinates>-122.0212337,37.9461207,0</coordinates></Point>
  </Placemark>
</Response></kml>
Google geocoding. Address: 94518. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>94518</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Concord, CA 94518, USA</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Concord</LocalityName><PostalCode><PostalCodeNumber>94518</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9753970" south="37.9317020" east="-121.9920750" west="-122.0518220" />
    </ExtendedData>
    <Point><coordinates>-122.0212337,37.9461207,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.004000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.005000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.662284744574175)*COS(-2.12967228541046)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.662284744574175)*SIN(-2.12967228541046)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.662284744574175)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.486000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.662284744574175)*COS(-2.12967228541046)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.662284744574175)*SIN(-2.12967228541046)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.662284744574175)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.043000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.007000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00500)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.03700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.09900)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.09400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.70000)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00100)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 2.08100 (0 reqs/sec) | Rendering: 0.80200 (38%) | DB: 0.55000 (26%) | 200 OK [http://localhost/where/94518]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:41:07) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YULTEyMi4wMjEy
MzM3AMStOgpAY2l0eSIMQ29uY29yZDoSQGNvdW50cnlfY29kZSIHVVM6DkBw
cm92aWRlciILZ29vZ2xlOglAbGF0ZhozNy45NDYxMjA3MDAwMDAwMDIASMk6
FEBzdHJlZXRfYWRkcmVzczA6EkBmdWxsX2FkZHJlc3MiG0NvbmNvcmQsIENB
IDk0NTE4LCBVU0E6D0BwcmVjaXNpb24iCHppcDoJQHppcCIKOTQ1MTgiCmZs
YXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhhc2h7BzoK
ZXJyb3IiADoLbm90aWNlIgAGOgpAdXNlZHsHOxZGOxdGOg5yZXR1cm5fdG8w--cff595c6925ee68d8d434d1d51834266da64464f
  Parameters: {"entry_location"=>"94596", "action"=>"search", "controller"=>"listings"}
Google geocoding. Address: 94596. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>94596</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Lafayette, CA 94596, USA</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Lafayette</LocalityName><PostalCode><PostalCodeNumber>94596</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9172260" south="37.8655410" east="-122.0006540" west="-122.0709010" />
    </ExtendedData>
    <Point><coordinates>-122.0326019,37.8854525,0</coordinates></Point>
  </Placemark>
</Response></kml>
Google geocoding. Address: 94596. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>94596</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Lafayette, CA 94596, USA</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Lafayette</LocalityName><PostalCode><PostalCodeNumber>94596</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9172260" south="37.8655410" east="-122.0006540" west="-122.0709010" />
    </ExtendedData>
    <Point><coordinates>-122.0326019,37.8854525,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.008000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.004000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.007000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.661225884732917)*COS(-2.12987069793049)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.661225884732917)*SIN(-2.12987069793049)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.661225884732917)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.496000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.661225884732917)*COS(-2.12987069793049)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.661225884732917)*SIN(-2.12987069793049)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.661225884732917)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.044000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.007000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.14800)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.07800)
Rendered listings/_message (0.08000)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00500)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.07900)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.76400)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 1.92000 (0 reqs/sec) | Rendering: 0.78300 (40%) | DB: 0.56600 (29%) | 200 OK [http://localhost/where/94596]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:41:19) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOglAbG5nZhQtMTIyLjAzMjYwMTkAkmY6CkBj
aXR5Ig5MYWZheWV0dGU6EkBjb3VudHJ5X2NvZGUiB1VTOg5AcHJvdmlkZXIi
C2dvb2dsZToJQGxhdGYSMzcuODg1NDUyNQDUqjoUQHN0cmVldF9hZGRyZXNz
MDoSQGZ1bGxfYWRkcmVzcyIdTGFmYXlldHRlLCBDQSA5NDU5NiwgVVNBOg9A
cHJlY2lzaW9uIgh6aXA6CUB6aXAiCjk0NTk2OgxzbGlkZXJzRjoOcmV0dXJu
X3RvMCIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsHOgplcnJvciIAOgtub3RpY2UiAAY6CkB1c2Vkewc7F0Y7GEY=--b96d1354f284b39ac7f6befc4181e4da829765ad
  Parameters: {"entry_location"=>"94598", "action"=>"search", "controller"=>"listings"}
Google geocoding. Address: 94598. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>94598</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Walnut Creek, CA 94598, USA</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Walnut Creek</LocalityName><PostalCode><PostalCodeNumber>94598</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9459010" south="37.8528680" east="-121.9292520" west="-122.0549160" />
    </ExtendedData>
    <Point><coordinates>-122.0269180,37.9205602,0</coordinates></Point>
  </Placemark>
</Response></kml>
Google geocoding. Address: 94598. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>94598</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Walnut Creek, CA 94598, USA</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Walnut Creek</LocalityName><PostalCode><PostalCodeNumber>94598</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9459010" south="37.8528680" east="-121.9292520" west="-122.0549160" />
    </ExtendedData>
    <Point><coordinates>-122.0269180,37.9205602,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.005000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.661838629690719)*COS(-2.12977149516113)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.661838629690719)*SIN(-2.12977149516113)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.661838629690719)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.565000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.661838629690719)*COS(-2.12977149516113)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.661838629690719)*SIN(-2.12977149516113)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.661838629690719)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.045000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.007000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00300)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.03900)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.10000)
Rendered listings/_message (0.10200)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.10400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.68500)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 1.89400 (0 reqs/sec) | Rendering: 0.70400 (37%) | DB: 0.63400 (33%) | 200 OK [http://localhost/where/94598]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:41:29) [POST]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YbLTEyMi4wMjY5
MTc5OTk5OTk5OQBrHjoKQGNpdHkiEVdhbG51dCBDcmVlazoSQGNvdW50cnlf
Y29kZSIHVVM6DkBwcm92aWRlciILZ29vZ2xlOglAbGF0ZhozNy45MjA1NjAx
OTk5OTk5OTcAf+Y6FEBzdHJlZXRfYWRkcmVzczA6EkBmdWxsX2FkZHJlc3Mi
IFdhbG51dCBDcmVlaywgQ0EgOTQ1OTgsIFVTQToPQHByZWNpc2lvbiIIemlw
OglAemlwIgo5NDU5OCIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsHOgplcnJvciIAOgtub3RpY2UiAAY6CkB1c2Vkewc7
FkY7F0Y6DnJldHVybl90bzA=--085913c9f8272daf28bc4fcfa7ab9e66f629b0cd
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"Walnut Creek, CA 94598, USA", "entry_location"=>"94598", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"", "search"=>"", "map"=>"", "author_id"=>"", "category_list"=>"food", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: Walnut Creek, CA 94598, USA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>Walnut Creek, CA 94598, USA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>Walnut Creek, CA 94598, USA</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Walnut Creek</LocalityName><PostalCode><PostalCodeNumber>94598</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9459010" south="37.8528680" east="-121.9292520" west="-122.0549160" />
    </ExtendedData>
    <Point><coordinates>-122.0269180,37.9205602,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.001000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=0 AND ( (ACOS(least(1,COS(0.661838629690719)*COS(-2.12977149516113)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.661838629690719)*SIN(-2.12977149516113)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.661838629690719)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load IDs For Limited Eager Loading (0.014000)[0m   [0mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'food') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;36;1mBlogEntry Load Including Associations (0.072000)[0m   [0;1mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'food') AND `blog_entries`.id IN (519, 518, 517, 513, 512, 485, 484, 483, 482, 481, 420, 419, 418, 330, 196, 156, 155, 154, 153, 132, 131, 123, 117, 116, 107, 98, 97, 96, 95, 94, 92, 89, 87, 66, 65, 63, 46) ORDER BY blog_entries.created_at desc[0m
  [4;35;1mTag Load (0.046000)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;36;1mUser Load (0.006000)[0m   [0;1mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00200)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.01000)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 519) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 518) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 517) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.004000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 513) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.01000)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 512) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 485) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 484) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 483) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 482) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 481) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00900)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 420) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 419) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 418) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 330) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 196) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 156) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 155) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 154) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 153) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 131) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 117) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.003000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 116) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00900)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 96) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 95) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.09500)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 94) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 92) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 87) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 66) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 65) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 63) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 46) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered listings/_messagelist (0.33200)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.76500 (1 reqs/sec) | Rendering: 0.30100 (39%) | DB: 0.19900 (26%) | 200 OK [http://localhost/where/94598]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:41:44) [POST]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOglAbG5nZhstMTIyLjAyNjkxNzk5OTk5OTk5
AGseOgpAY2l0eSIRV2FsbnV0IENyZWVrOhJAY291bnRyeV9jb2RlIgdVUzoO
QHByb3ZpZGVyIgtnb29nbGU6CUBsYXRmGjM3LjkyMDU2MDE5OTk5OTk5NwB/
5joUQHN0cmVldF9hZGRyZXNzMDoSQGZ1bGxfYWRkcmVzcyIgV2FsbnV0IENy
ZWVrLCBDQSA5NDU5OCwgVVNBOg9AcHJlY2lzaW9uIgh6aXA6CUB6aXAiCjk0
NTk4OgxzbGlkZXJzRjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29u
dHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsHOgplcnJvciIAOgtub3RpY2Ui
AAY6CkB1c2Vkewc7F0Y7GEY=--6b1d24257d28c5dabde893a63d17ac7ddb5e4d05
  Parameters: {"user"=>{"show_friends_only"=>"", "id"=>"", "show_unmapped"=>"true"}, "default_location"=>"San Leandro, CA", "entry_location"=>"94598", "action"=>"search", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"listings", "blog_entry"=>{"radius"=>"50", "price_from"=>"0", "sliders"=>"", "search"=>"food", "map"=>"", "author_id"=>"", "category_list"=>"", "search_rating_to"=>"5", "search_rating_from"=>"0", "price_to"=>"500"}}
Google geocoding. Address: San Leandro, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>San Leandro, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>San Leandro, CA, USA</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Leandro</LocalityName></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7424520" south="37.6667570" east="-122.1221030" west="-122.2101480" />
    </ExtendedData>
    <Point><coordinates>-122.1568460,37.7258370,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.004000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE (1=1 AND ( (ACOS(least(1,COS(0.6584400687207)*COS(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.6584400687207)*SIN(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.6584400687207)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%food%' ) ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load Including Associations (0.018000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE (1=1 AND ( (ACOS(least(1,COS(0.6584400687207)*COS(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.6584400687207)*SIN(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.6584400687207)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND lower(what) LIKE '%food%' ) AND `blog_entries`.id IN (512, 25) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.017000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'food') ORDER BY blog_entries.created_at desc LIMIT 200[0m
  [4;35;1mBlogEntry Load Including Associations (0.083000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `ratings`.`id` AS t2_r0, `ratings`.`rating` AS t2_r1, `ratings`.`created_at` AS t2_r2, `ratings`.`rateable_type` AS t2_r3, `ratings`.`rateable_id` AS t2_r4, `ratings`.`user_id` AS t2_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' LEFT OUTER JOIN taggings blog_entries_taggings ON blog_entries_taggings.taggable_id = blog_entries.id AND blog_entries_taggings.taggable_type = 'BlogEntry' LEFT OUTER JOIN tags blog_entries_tags ON blog_entries_tags.id = blog_entries_taggings.tag_id WHERE (context = 'categories' AND blog_entries_tags.name LIKE 'food') AND `blog_entries`.id IN (519, 518, 517, 513, 512, 485, 484, 483, 482, 481, 420, 419, 418, 330, 196, 156, 155, 154, 153, 132, 131, 123, 117, 116, 107, 98, 97, 96, 95, 94, 92, 89, 87, 66, 65, 63, 46) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.042000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.00800)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 519) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 518) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 517) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 513) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.09200)
Rendered listings/_message (0.09600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 485) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 484) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 483) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 482) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 481) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.003000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 420) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 419) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 418) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 330) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 196) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 156) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.002000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 155) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 154) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 153) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 131) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 117) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 116) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 96) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.002000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 95) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 94) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 92) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 87) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 66) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 65) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
  [4;36;1mTag Load (0.001000)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 63) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
  [4;35;1mTag Load (0.001000)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id WHERE ((`taggings`.taggable_type = 'BlogEntry') AND (`taggings`.taggable_id = 46) AND ((context = 'categories'))) [0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.32000)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 1.29300 (0 reqs/sec) | Rendering: 0.30000 (23%) | DB: 0.21900 (16%) | 200 OK [http://localhost/where/94598]


Processing ListingsController#index (for 127.0.0.1 at 2009-05-20 22:41:53) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4xNTY4
NDYAIIo6CkBjaXR5IhBTYW4gTGVhbmRybzoSQGNvdW50cnlfY29kZSIHVVM6
DkBwcm92aWRlciILZ29vZ2xlOglAbGF0ZhozNy43MjU4MzY5OTk5OTk5OTkA
nQY6FEBzdHJlZXRfYWRkcmVzczA6EkBmdWxsX2FkZHJlc3MiGVNhbiBMZWFu
ZHJvLCBDQSwgVVNBOg9AcHJlY2lzaW9uIgljaXR5OglAemlwMCIKZmxhc2hJ
QzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsHOgplcnJv
ciIAOgtub3RpY2UiAAY6CkB1c2Vkewc7FkY7F0Y6DnJldHVybl90bzA=--4cd7c28b8f08d744495079aef7d9272b90c35e42
  Parameters: {"action"=>"index", "controller"=>"listings"}
  [4;36;1mUser Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'wwhow') LIMIT 1[0m
  [4;36;1mBlogEntry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mBlogEntry Load (0.002000)[0m   [0mSELECT * FROM `blog_entries` WHERE (`blog_entries`.`twit_id` = 1789116459) LIMIT 1[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.005000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.6584400687207)*COS(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.6584400687207)*SIN(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.6584400687207)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.484000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.6584400687207)*COS(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.6584400687207)*SIN(-2.13203916655167)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.6584400687207)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.044000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.007000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00100)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00600)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.03900)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.08400)
Rendered listings/_message (0.08600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.01500)
Rendered listings/_message (0.09300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered listings/_messagelist (0.65600)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 1.63600 (0 reqs/sec) | Rendering: 0.74600 (45%) | DB: 0.55400 (33%) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2009-05-20 22:42:06) [GET]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EWdlb19sb2NhdGlvbm86E0dlb0tpdDo6R2VvTG9jEDoLQHN0
YXRlIgdDQToNQHN1Y2Nlc3NUOgpAY2l0eSIQU2FuIExlYW5kcm86CUBsbmdm
Ey0xMjIuMTU2ODQ2ACCKOhJAY291bnRyeV9jb2RlIgdVUzoUQHN0cmVldF9h
ZGRyZXNzMDoJQGxhdGYaMzcuNzI1ODM2OTk5OTk5OTk5AJ0GOg5AcHJvdmlk
ZXIiC2dvb2dsZToSQGZ1bGxfYWRkcmVzcyIZU2FuIExlYW5kcm8sIENBLCBV
U0E6CUB6aXAwOg9AcHJlY2lzaW9uIgljaXR5OgxzbGlkZXJzRjoOcmV0dXJu
X3RvMCIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsHOgplcnJvciIAOgtub3RpY2UiAAY6CkB1c2Vkewc7F0Y7GEY=--d3a6835b064606144014778249141a5257151a9b
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/common
Rendering sessions/new
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered shared/_system_messages (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 0.03100 (32 reqs/sec) | Rendering: 0.02800 (90%) | DB: 0.00000 (0%) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2009-05-20 22:42:09) [POST]
  Session ID: BAh7CzoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YTLTEyMi4xNTY4
NDYAIIo6CkBjaXR5IhBTYW4gTGVhbmRybzoSQGNvdW50cnlfY29kZSIHVVM6
DkBwcm92aWRlciILZ29vZ2xlOglAbGF0ZhozNy43MjU4MzY5OTk5OTk5OTkA
nQY6FEBzdHJlZXRfYWRkcmVzczA6EkBmdWxsX2FkZHJlc3MiGVNhbiBMZWFu
ZHJvLCBDQSwgVVNBOg9AcHJlY2lzaW9uIgljaXR5OglAemlwMCIKZmxhc2hJ
QzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsHOgplcnJv
ciIAOgtub3RpY2UiAAY6CkB1c2Vkewc7FkY7F0Y6DnJldHVybl90bzA=--4cd7c28b8f08d744495079aef7d9272b90c35e42
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"2012f629c2d4b515c2c8ca0cae6767bbe3593bba", "controller"=>"sessions", "login"=>"alfonso", "password"=>"[FILTERED]"}
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
  [4;36;1mWebUser Load (0.003000)[0m   [0;1mSELECT * FROM `web_users` WHERE (login = 'alfonso' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mWebUser Columns (0.006000)[0m   [0mSHOW FIELDS FROM `web_users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
Cookie set: auth_token=; path=/
  [4;36;1mBlogEntry Load (0.004000)[0m   [0;1mSELECT DISTINCT user_id as id FROM `blog_entries` WHERE (created_at > '2008-11-21 21:42:09') LIMIT 500[0m
  [4;35;1mBlogEntry Columns (0.005000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mUser Columns (0.004000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 4) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 4 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 4) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 4 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `rated` = 682.3274, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 4[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 5) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 5 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 5) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 5 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 8) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 8 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 8) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 8 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `rated` = 1537.128, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 8[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 9) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 9 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 9) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 9 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 11) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 11 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 11) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 11 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 472.0373, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 11[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 13) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 13 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 13) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 13 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `rated` = 57.6, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 13[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 12) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 12 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 12) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 12 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 2) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 2 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 2) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 2 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `rated` = 792.6168, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 2[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 15) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 15) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 15 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 15) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 15 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `rated` = 711.4614, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 15[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 16) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 16 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 16) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 16 ) ) [0m
  [4;35;1mSQL (0.006000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.003000)[0m   [0;1mUPDATE `users` SET `rated` = 312.4436, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 16[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 24) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 24) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 24 ) ) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 24) [0m
  [4;36;1mSQL (0.010000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 24 ) ) [0m
  [4;35;1mSQL (0.002000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 6) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 6 ) ) [0m
  [4;36;1mSQL (0.003000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 6) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 6 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 27) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 27) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 27 ) ) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 27) [0m
  [4;36;1mSQL (0.010000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 27 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 150.5724, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 27[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 28) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 28) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 28 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 28) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 28 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 31) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 31) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 31 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 31) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 31 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 34) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 34) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 34 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 34) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 34 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 37) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 37) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 37 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 37) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 37 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 39) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 39) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 39 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 39) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 39 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 41) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 41) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 41 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 41) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 41 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 42) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 42) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 42 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 42) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 42 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 45) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 45) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 45 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 45) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 45 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 47) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 47) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 47 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 47) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 47 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 109.4548, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 47[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 48) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 48) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 48 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 48) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 48 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 49) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 49) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 49 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 49) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 49 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 426.0672, `updated_at` = '2009-05-21 05:42:09' WHERE `id` = 49[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 52) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 52) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 52 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 52) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 52 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 426.328, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 52[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 56) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 56) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 56 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 56) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 56 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 54) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 54) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 54 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 54) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 54 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 53) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 53) [0m
  [4;35;1mSQL (0.007000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 53 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 53) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 53 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 643.5469, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 53[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 57) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 57) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 57 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 57) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 57 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 1640.4332, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 57[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 60) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 60) [0m
  [4;35;1mSQL (0.012000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 60 ) ) [0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 60) [0m
  [4;35;1mSQL (0.010000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 60 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 555.4956, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 60[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 58) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 58) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 58 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 58) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 58 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 984.1572, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 58[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 61) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 61) [0m
  [4;35;1mSQL (0.010000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 61 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 61) [0m
  [4;35;1mSQL (0.010000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 61 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 55) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 55) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 55 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 55) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 55 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 267.7284, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 55[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 63) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 63) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 63 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 63) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 63 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 64) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 64) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 64 ) ) [0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 64) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 64 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 65) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 65) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 65 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 65) [0m
  [4;36;1mSQL (0.010000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 65 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 929.34, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 65[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 67) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 67) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 67 ) ) [0m
  [4;35;1mSQL (0.003000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 67) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 67 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 1476.3016, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 67[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 66) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 66) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 66 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 66) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 66 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 62) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 62) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 62 ) ) [0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 62) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 62 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 1588.9236, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 62[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.003000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 68) [0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 68) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 68 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 68) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 68 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 69) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 69) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 69 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 69) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 69 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 854.5162, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 69[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 72) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 72) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 72 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 72) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 72 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 848.4102, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 72[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 71) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 71) [0m
  [4;36;1mSQL (0.010000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 71 ) ) [0m
  [4;35;1mSQL (0.003000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 71) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 71 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 73) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 73) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 73 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 73) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 73 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 426.1488, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 73[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 74) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 74) [0m
  [4;35;1mSQL (0.010000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 74 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 74) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 74 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.001000)[0m   [0mUPDATE `users` SET `rated` = 354.5248, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 74[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 75) [0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 75) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 75 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 75) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 75 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 77) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 77) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 77 ) ) [0m
  [4;35;1mSQL (0.003000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 77) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 77 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 252.1476, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 77[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 78) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 78) [0m
  [4;36;1mSQL (0.007000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 78 ) ) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 78) [0m
  [4;36;1mSQL (0.010000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 78 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `rated` = 315.7616, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 78[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 79) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 79) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 79 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 79) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 79 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.000000)[0m   [0;1mUPDATE `users` SET `rated` = 252.1476, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 79[0m
  [4;35;1mSQL (0.001000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 80) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 80) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 80 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 80) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 80 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.002000)[0m   [0;1mUPDATE `users` SET `rated` = 104.0004, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 80[0m
  [4;35;1mSQL (0.009000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 50) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 50) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 50 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 50) [0m
  [4;36;1mSQL (0.010000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 50 ) ) [0m
  [4;35;1mSQL (0.002000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 1145.6064, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 50[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 82) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 82) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 82 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 82) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 82 ) ) [0m
  [4;35;1mSQL (0.002000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 102.6676, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 82[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.004000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 83) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 83) [0m
  [4;36;1mSQL (0.010000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 83 ) ) [0m
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 83) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 83 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.001000)[0m   [0;1mUPDATE `users` SET `rated` = 141.2316, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 83[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 51) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 51) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 51 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 51) [0m
  [4;36;1mSQL (0.009000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 51 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.002000)[0m   [0;1mUPDATE `users` SET `rated` = 294.9568, `updated_at` = '2009-05-21 05:42:10' WHERE `id` = 51[0m
  [4;35;1mSQL (0.002000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 76) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 76) [0m
  [4;36;1mSQL (0.011000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 76 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 76) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 76 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 1) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 1 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 1) [0m
  [4;35;1mSQL (0.008000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 1 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 46) [0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 46) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 46 ) ) [0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 46) [0m
  [4;36;1mSQL (0.008000)[0m   [0;1mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 46 ) ) [0m
  [4;35;1mSQL (0.001000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.web_user_id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 4) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT count(*) AS count_all FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 4 ) ) [0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT count(*) AS count_all FROM `ratings` WHERE (user_id = 4) [0m
  [4;35;1mSQL (0.009000)[0m   [0mSELECT avg(`ratings`.rating) AS avg_rating FROM `ratings` WHERE (rateable_type='BlogEntry'
 and rateable_id in
 (select b.id
 from blog_entries b
 where b.user_id = 4 ) ) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.000000)[0m   [0mUPDATE `users` SET `rated` = 682.3274, `updated_at` = '2009-05-21 05:42:11' WHERE `id` = 4[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/who/alfonso
Completed in 1.73800 (0 reqs/sec) | DB: 1.37000 (78%) | 302 Found [http://localhost/session]


Processing ListingsController#search (for 127.0.0.1 at 2009-05-20 22:42:12) [GET]
  Session ID: BAh7DDoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6EHdlYl91c2VyX2lkaQ06EWdlb19sb2NhdGlvbm86E0dlb0tp
dDo6R2VvTG9jEDoLQHN0YXRlIgdDQToNQHN1Y2Nlc3NUOgpAY2l0eSIQU2Fu
IExlYW5kcm86CUBsbmdmEy0xMjIuMTU2ODQ2ACCKOhJAY291bnRyeV9jb2Rl
IgdVUzoUQHN0cmVldF9hZGRyZXNzMDoJQGxhdGYaMzcuNzI1ODM2OTk5OTk5
OTk5AJ0GOg5AcHJvdmlkZXIiC2dvb2dsZToSQGZ1bGxfYWRkcmVzcyIZU2Fu
IExlYW5kcm8sIENBLCBVU0E6CUB6aXAwOg9AcHJlY2lzaW9uIgljaXR5Ogxz
bGlkZXJzRjoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxl
cjo6Rmxhc2g6OkZsYXNoSGFzaHsHOgplcnJvciIAOgtub3RpY2UiAAY6CkB1
c2Vkewc7GFQ7GVQ=--40ba8f7eb8a49c79107fea4def3612776033cf65
  Parameters: {"action"=>"search", "author"=>"alfonso", "controller"=>"listings"}
  [4;35;1mWebUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `web_users`[0m
  [4;36;1mWebUser Load (0.002000)[0m   [0;1mSELECT * FROM `web_users` WHERE (`web_users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.web_user_id = 8) LIMIT 1[0m
  [4;36;1mUser Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Google geocoding. Address: 891 carthage ct, concord, ca. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>891 carthage ct, concord, ca</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>891 Carthage Ct, Concord, CA 94518, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Concord</LocalityName><Thoroughfare><ThoroughfareName>891 Carthage Ct</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94518</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9454296" south="37.9391344" east="-122.0263384" west="-122.0326336" />
    </ExtendedData>
    <Point><coordinates>-122.0294860,37.9422820,0</coordinates></Point>
  </Placemark>
</Response></kml>
Google geocoding. Address: 891 carthage ct, concord, ca. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>891 carthage ct, concord, ca</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>891 Carthage Ct, Concord, CA 94518, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>Concord</LocalityName><Thoroughfare><ThoroughfareName>891 Carthage Ct</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94518</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.9454296" south="37.9391344" east="-122.0263384" west="-122.0326336" />
    </ExtendedData>
    <Point><coordinates>-122.0294860,37.9422820,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mBlogEntry Columns (0.006000)[0m   [0mSHOW FIELDS FROM `blog_entries`[0m
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.005000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.662217746620179)*COS(-2.12981631521633)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.662217746620179)*SIN(-2.12981631521633)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.662217746620179)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.492000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.662217746620179)*COS(-2.12981631521633)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.662217746620179)*SIN(-2.12981631521633)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.662217746620179)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.041000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.006000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
  [4;36;1mUser Load (0.002000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`web_user_id` = 8) LIMIT 1[0m
Rendering template within layouts/users
Rendering /users/show
  [4;35;1mSQL (0.002000)[0m   [0mSELECT count(*) AS count_all FROM `blog_entries` WHERE (`blog_entries`.user_id = 4) [0m
Rendered users/_public (0.00200)
Rendered users/_control_panel (0.00600)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.02100)
Rendered layouts/_rightbar (0.00300)
Rendered listings/_search (0.00100)
Rendered listings/_search_sliders (0.00000)
Rendered shared/_system_messages (0.00000)
Rendered users/_new_status (0.00200)
Rendered users/_input_header (0.02300)
Rendered listings/_map (0.04100)
  [4;36;1mSubscription Load (0.001000)[0m   [0;1mSELECT * FROM `subscriptions` WHERE (`subscriptions`.user_id = 4) [0m
  [4;35;1mSubscription Columns (0.003000)[0m   [0mSHOW FIELDS FROM `subscriptions`[0m
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.04200)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.10200)
Rendered listings/_message (0.10400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.08600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00800)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00400)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00600)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00700)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered listings/_messagelist (0.79900)
Rendered layouts/_menu (0.00100)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00000)
Completed in 2.20800 (0 reqs/sec) | Rendering: 0.87600 (39%) | DB: 0.57200 (25%) | 200 OK [http://localhost/who/alfonso]


Processing SessionsController#destroy (for 127.0.0.1 at 2009-05-20 22:44:01) [GET]
  Session ID: BAh7DDoIbWFwRjoMY3NyZl9pZCIlOGFjNWMwNmI5MGYyMDUzOTRlZTE1OWJl
MDZhZDFlNmQ6DHNsaWRlcnNGOhFnZW9fbG9jYXRpb25vOhNHZW9LaXQ6Okdl
b0xvYxA6C0BzdGF0ZSIHQ0E6DUBzdWNjZXNzVDoJQGxuZ2YbLTEyMi4wMjk0
ODU5OTk5OTk5OQBsJjoKQGNpdHkiDENvbmNvcmQ6EkBjb3VudHJ5X2NvZGUi
B1VTOg5AcHJvdmlkZXIiC2dvb2dsZToJQGxhdGYaMzcuOTQyMjgxOTk5OTk5
OTk5AM4DOhRAc3RyZWV0X2FkZHJlc3MiFDg5MSBDYXJ0aGFnZSBDdDoSQGZ1
bGxfYWRkcmVzcyIsODkxIENhcnRoYWdlIEN0LCBDb25jb3JkLCBDQSA5NDUx
OCwgVVNBOg9AcHJlY2lzaW9uIgxhZGRyZXNzOglAemlwIgo5NDUxODoQd2Vi
X3VzZXJfaWRpDSIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6
OkZsYXNoSGFzaHsHOgplcnJvciIAOgtub3RpY2UiAAY6CkB1c2Vkewc7F0Y7
GEY6DnJldHVybl90bzA=--f00981e37089aed72b8baa943b7cfc8ba14c36eb
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Cookie set: auth_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT
Redirected to http://localhost:3000/
Completed in 0.00600 (166 reqs/sec) | DB: 0.00000 (0%) | 302 Found [http://localhost/logout]


Processing ListingsController#index (for 127.0.0.1 at 2009-05-20 22:44:03) [GET]
  Session ID: BAh7BzoOcmV0dXJuX3RvMCIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6
Rmxhc2g6OkZsYXNoSGFzaHsGOgtub3RpY2UiHllvdSBoYXZlIGJlZW4gbG9n
Z2VkIG91dC4GOgpAdXNlZHsGOwdG--191b07747c1d315566604823dd05814964c4d9a4
  Parameters: {"action"=>"index", "controller"=>"listings"}
  [4;36;1mUser Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.002000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'wwhow') LIMIT 1[0m
  [4;36;1mBlogEntry Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `blog_entries`[0m
  [4;35;1mBlogEntry Load (0.002000)[0m   [0mSELECT * FROM `blog_entries` WHERE (`blog_entries`.`twit_id` = 1789116459) LIMIT 1[0m
Google geocoding. Address: 100 Pine, San Francisco, CA. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>100 Pine, San Francisco, CA</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>100 Pine St, San Francisco, CA 94111, USA</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>US</CountryNameCode><CountryName>USA</CountryName><AdministrativeArea><AdministrativeAreaName>CA</AdministrativeAreaName><Locality><LocalityName>San Francisco</LocalityName><Thoroughfare><ThoroughfareName>100 Pine St</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>94111</PostalCodeNumber></PostalCode></Locality></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="37.7957836" south="37.7894884" east="-122.3958474" west="-122.4021426" />
    </ExtendedData>
    <Point><coordinates>-122.3989950,37.7926360,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mBlogEntry Load IDs For Limited Eager Loading (0.006000)[0m   [0;1mSELECT DISTINCT `blog_entries`.id FROM `blog_entries` WHERE ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) ORDER BY blog_entries.created_at desc LIMIT 100[0m
  [4;35;1mBlogEntry Load Including Associations (0.477000)[0m   [0mSELECT `blog_entries`.`id` AS t0_r0, `blog_entries`.`user_id` AS t0_r1, `blog_entries`.`text` AS t0_r2, `blog_entries`.`created_at` AS t0_r3, `blog_entries`.`updated_at` AS t0_r4, `blog_entries`.`what` AS t0_r5, `blog_entries`.`where` AS t0_r6, `blog_entries`.`price` AS t0_r7, `blog_entries`.`original` AS t0_r8, `blog_entries`.`twit_id` AS t0_r9, `blog_entries`.`discount` AS t0_r10, `blog_entries`.`lat` AS t0_r11, `blog_entries`.`lng` AS t0_r12, `blog_entries`.`price_text` AS t0_r13, `users`.`id` AS t1_r0, `users`.`name` AS t1_r1, `users`.`uri` AS t1_r2, `users`.`created_at` AS t1_r3, `users`.`updated_at` AS t1_r4, `users`.`web_user_id` AS t1_r5, `users`.`lat` AS t1_r6, `users`.`lng` AS t1_r7, `users`.`address` AS t1_r8, `users`.`rated` AS t1_r9, `users`.`ranked` AS t1_r10, `users`.`show_friends_only` AS t1_r11, `users`.`hide_blocked_users` AS t1_r12, `tags`.`id` AS t2_r0, `tags`.`name` AS t2_r1, `ratings`.`id` AS t3_r0, `ratings`.`rating` AS t3_r1, `ratings`.`created_at` AS t3_r2, `ratings`.`rateable_type` AS t3_r3, `ratings`.`rateable_id` AS t3_r4, `ratings`.`user_id` AS t3_r5 FROM `blog_entries` LEFT OUTER JOIN `users` ON `users`.id = `blog_entries`.user_id LEFT OUTER JOIN `taggings` ON (`blog_entries`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'BlogEntry') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) AND context = 'categories' LEFT OUTER JOIN `ratings` ON `ratings`.rateable_id = `blog_entries`.id AND `ratings`.rateable_type = 'BlogEntry' WHERE ( (ACOS(least(1,COS(0.65960593120774)*COS(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*COS(RADIANS(blog_entries.lng))+
 COS(0.65960593120774)*SIN(-2.13626546388208)*COS(RADIANS(blog_entries.lat))*SIN(RADIANS(blog_entries.lng))+
 SIN(0.65960593120774)*SIN(RADIANS(blog_entries.lat))))*3963.19)
<= 50 OR blog_entries.lat is null ) AND `blog_entries`.id IN (668, 669, 667, 666, 656, 655, 653, 652, 651, 650, 649, 648, 647, 646, 645, 644, 643, 642, 641, 640, 639, 638, 637, 636, 635, 634, 633, 632, 631, 630, 629, 628, 627, 626, 625, 624, 619, 616, 615, 614, 612, 610, 609, 608, 603, 602, 601, 600, 599, 598, 597, 596, 595, 594, 593, 592, 591, 590, 589, 588, 587, 586, 585, 584, 583, 582, 581, 575, 567, 566, 565, 564, 563, 562, 561, 560, 559, 557, 555, 553, 552, 551, 550, 549, 548, 547, 546, 545, 544, 543, 542, 541, 540, 539, 538, 537, 536, 535, 534, 533) ORDER BY blog_entries.created_at desc[0m
  [4;36;1mTag Load (0.046000)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` LEFT OUTER JOIN taggings ON tags.id = taggings.tag_id AND taggings.context = 'categories' LEFT OUTER JOIN blog_entries ON blog_entries.id = taggings.taggable_id WHERE (taggings.taggable_type = 'BlogEntry') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 ORDER BY count DESC, id DESC LIMIT 50[0m
  [4;35;1mUser Load (0.007000)[0m   [0mSELECT * FROM `users` WHERE (rated > 0) ORDER BY rated desc LIMIT 50[0m
Rendering template within layouts/nonusers
Rendering listings/index
Rendered listings/_search (0.00000)
Rendered listings/_tags (0.00400)
Rendered layouts/_leftbar (0.00400)
Rendered layouts/_rightbar (0.00500)
Rendered shared/_system_messages (0.00000)
Rendered listings/_search_sliders (0.00000)
Rendered listings/_map (0.04100)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.09300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00800)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00300)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.07900)
Rendered listings/_message (0.08100)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.07900)
Rendered ratings/_rate (0.00300)
Rendered listings/_message (0.00500)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00400)
Rendered ratings/_rate (0.00200)
Rendered listings/_message (0.00500)
Rendered listings/_messagelist (0.74100)
Rendered layouts/_menu (0.00000)
Rendered shared/_home (0.00000)
Rendered layouts/_footer (0.00000)
Rendered layouts/_endscripts (0.00100)
Completed in 2.15800 (0 reqs/sec) | Rendering: 0.75900 (35%) | DB: 0.55200 (25%) | 200 OK [http://localhost/]
